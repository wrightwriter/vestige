// Generated with Shader Minifier 1.4.0 (https://github.com/laurentlb/Shader_Minifier/)
#ifndef SHADER_INCLUDES_H_
# define SHADER_INCLUDES_H_

static const char* music_comp =
 "#version 460\n"
 "layout(local_size_x=256)in;"
 "layout(std430,binding=0) buffer Aa{vec2 f[];};"
 "layout(location=0) uniform int offs;"
 "float s=2.*acos(-1.);"
 "uvec3 t(uvec3 f)"
 "{"
   "f=f*1664525u+1013904223u;"
   "f.x+=f.y*f.z;"
   "f.y+=f.z*f.x;"
   "f.z+=f.x*f.y;"
   "f^=f>>16u;"
   "f.x+=f.y*f.z;"
   "f.y+=f.z*f.x;"
   "f.z+=f.x*f.y;"
   "return f;"
 "}"
 "vec3 p(vec3 f)"
 "{"
   "uvec3 v=t(floatBitsToUint(f*125.12));"
   "return vec3(v)/float(-1u);"
 "}"
 "vec3 n(vec3 f)"
 "{"
   "f+=12.124;"
   "uvec3 v=floatBitsToUint(f);"
   "v=(v>>16u^v.yzx)*1111111111u;"
   "v=(v>>16u^v.yzx)*1111111111u;"
   "v=(v>>16u^v.yzx)*1111111111u;"
   "return vec3(v)/float(-1u);"
 "}"
 "vec3 v(float v)"
 "{"
   "return n(vec3(v));"
 "}"
 "float r(float f)"
 "{"
   "return 440.*pow(2.,f/12.);"
 "}"
 "mat2 d(float v)"
 "{"
   "return mat2(cos(v),-sin(v),sin(v),cos(v));"
 "}"
 "vec3 d(vec3 f,float v,float u)"
 "{"
   "vec4 s=vec4(0);"
   "for(int i=0;i++<5;)"
     "f.yz*=d(4.5),f.xy*=d(1.5),f+=sin(f.zxy),s=(s+vec4(cross(cos(f),sin(f.yzx)),1))/v,f*=u;"
   "return s.xyz/s.w;"
 "}"
 "void main()"
 "{"
   "uint T=gl_GlobalInvocationID.x+uint(offs);"
   "vec2 i=vec2(0),x=vec2(0);"
   "float u=float(T)/44100.,c=u,y=float(T%529200)/44100.,z=smoothstep(430.,470.,c),a=1.;"
   "if(u>280.)"
     "{"
       "float f=mod(u,4.),v=exp(-f*10.);"
       "f=30.+pow(z,40.)*1e2;"
       "i+=v*sin(y*f*s+sin(y*f*s*10.)*v*.2)*20.;"
     "}"
   "if(u>250.)"
     "{"
       "float f=2.+sin(u)*2e-4;"
       "u*=4.;"
       "float T=floor(-u/f),s=mod(-u,f);"
       "u=s+v(T).x*4.+(u/4.-260.)*.6;"
       "a=smoothstep(0.,f*.04,s)*smoothstep(f,f*.98,s)*(1.-z);"
       "y*=.25+.25*float(c>260.)+v(T).z*.02;"
     "}"
   "else"
     " u=mix(u,0.,pow(clamp((u-230.)*.04,0.,1.),2.));"
   "float e=1e3;"
   "float[4] m=float[](-12.,1.,3.,10.);"
   "vec2 l=vec2(0);"
   "{"
     "float[7] t=float[](0.,1.,3.,5.,7.,8.,10.);"
     "for(float f=10.;f++<2435.;)"
       "{"
         "float T=60./140.*4.,i=u;"
         "i-=T*floor(v(f).z*4.);"
         "i-=T*pow(v(f).y,1.2)*(1.+6.*smoothstep(10.,20.,u));"
         "float x=floor(i/(T*4.)),m=smoothstep(0.,4.,x)*.5;"
         "i=mod(i,T*4.);"
         "m=r(t[int(f+x)%7]-12.+12.*float(v(f+x).y<.4*m)+12.*float(v(f+x).x<.4*m)-12.*float(v(f+x).z<.5*m)-12.*float(v(f*1.5+x).z<.5*m)-12.*float(v(f*1.25+x).z<.2*m));"
         "float e=2.+pow(v(f+x).x,2.5)*20.;"
         "for(float p=0.;p<e;p++)"
           "{"
             "float c=m,a=pow(v(f+p*1.5+x).x,2.+.5*smoothstep(5e2,2e3,c));"
             "c*=1.+floor(a*(1.+smoothstep(0.,4.,x)*2.));"
             "c+=(v(p+f*1.4).x-.5)*20.*smoothstep(0.,30.,u);"
             "a=exp(-i*(7.-6.*smoothstep(2e3,8e2,c))*.7)*smoothstep(T*2.,0.,i)*smoothstep(0.,.002,i)*smoothstep(7e3,8e2,c);"
             "vec2 r=vec2(sin(s*c*y+sin(v(f*2.4+x).x*15.*y)*4.*smoothstep(10.,20.,u)+sin(s*c*y*2.)*a*a*a*.6*smoothstep(20.,60.,u)))*d(f);"
             "r=tanh(r);"
             "l+=a*r/2425./e*2e2*(float(u<60.)+z*4.);"
           "}"
       "}"
   "}"
   "i+=l;"
   "e=4e2;"
   "for(float f=0.;++f<e;)"
     "{"
       "float v=u-pow(smoothstep(0.,1.,p(vec3(f)).x),1.2)*(.2+3.*p(vec3(f)).y);"
       "float[4] t=float[](m[0],m[1],m[2],m[3]);"
       "if(mod(v,8)<1.)"
         "for(int f=0;f<4;f++)"
           "t[f]+=7;"
       "float T=mix(10.,.5+sin(v*.5)*2./v*smoothstep(10.,20.,u),smoothstep(0.,60.,u));"
       "int x=int(v/T);"
       "T=mod(v,T);"
       "float c=t[x%4]-12*float(p(vec3(x)).x<.2)+12*float(p(vec3(x)).z<.2);"
       "c=r(c+12.*float(v>60.)-24.);"
       "c-=12.*float(p(vec3(x)).x<.2);"
       "T=smoothstep(0.,.004,T)*exp(-T*10.);"
       "v=(2.+10.*smoothstep(60.,1e2,u))*(T*T*sin(y*c*s));"
       "if(f<2.)"
         "i+=T*sin(y*c*s+v)*.3*6.;"
       "else"
         "{"
           "vec2 u=7.*T*sin(y*c*s+v*smoothstep(6e2,5e2,c)+d(vec3(vec2(sin(0.),cos(0.)),f),1.,1.).xy*30.)/e*6.;"
           "i+=tanh(u);"
         "}"
     "}"
   "i*=.14;"
   "e=44.-10.*smoothstep(30.,50.,u);"
   "for(int f=0;f<4;f++)"
     "for(float v=0.;++v<e;)"
       "{"
         "float T=u,x=r(m[f]+12.*float(p(vec3(v)).z<.1)+12.*float(p(vec3(v)*1e2).x<.1)-12.*float(p(vec3(v)).x<.5)-12.);"
         "x+=12.*float(p(vec3(v)).z<.1);"
         "x-=p(vec3(v)*4.).x*smoothstep(120.,144.,u)*1e2;"
         "if(c>340)"
           "T=y*2.;"
         "T*=s*x;"
         "vec2 t=d(vec3(fract(T/s))*vec3(2,-3,-8),.5,.4).xy*d(v*.2)-d(vec3(vec2(sin(T),cos(T)),v*.1+float(f)),.5,smoothstep(120.,144.,u)*2.).xy*d(-v*.5);"
         "i+=t/e*.15*smoothstep(60.,1e2,u)*5.*smoothstep(250.,230.,c);"
       "}"
   "e=4.;"
   "for(float f=0.;++f<e;)"
     "{"
       "float T=u,i=.5+sin(T*.5)*2./T,c=mod(T,i),a=r(m[0]-12.-12.-12.),z=smoothstep(160.,180.,u);"
       "c=smoothstep(0.,.04,c)*exp(-c*(20.-15.*z))*smoothstep(i,0.,c);"
       "i=c*c*sin(y*(a*(1.+z*10.*floor(v(floor(T/i)).x*10.)))*s)*(1.-.9*z);"
       "c*=smoothstep(1e2,110.,u);"
       "if(u>60&&u<70.)"
         "c=exp(-u+60.)*4.;"
       "if(u>80&&T<1e2)"
         "c=exp(-mod(u,4.))*.4;"
       "c*=1.;"
       "x+=c*sin(y*a*s+i)/e*6.;"
     "}"
   "i=clamp(tanh((i*2.+x)*1.2*smoothstep(0.,5.,c))*.7,-1.,1.);"
   "f[T+3000000]=i*a+tanh(l*z*.2+sin(s*30.*c)*10.*pow(z,30.));"
 "}";

static const char* post_frag =
 "#version 460\n"
 "layout(location=1) uniform float T;"
 "layout(std430,binding=0) coherent buffer Aa{uint i[];};"
 "out vec4 C;"
 "uint u;"
 "uint m(uint f)"
 "{"
   "f=(f^f>>16)*2146121005u;"
   "f=(f^f>>15)*2221713035u;"
   "return f^f>>16;"
 "}"
 "float c(float f)"
 "{"
   "return float(m(uint(f)))/float(-1u);"
 "}"
 "float c()"
 "{"
   "uint f=m(u);"
   "u=f;"
   "return float(f)/float(-1u);"
 "}"
 "uint w(ivec2 f)"
 "{"
   "vec2 v=vec2(1300,740);"
   "f+=10;"
   "return(f.x+uint(v.x)*f.y+uint(v.x*v.y))%uint(v.x*v.y);"
 "}"
 "float c(inout vec2 f,inout float v,int u,int x)"
 "{"
   "int[148] T=int[](-1,-1,-1,1,-1,1,1,1,-1,1,-1,-1,-1,-1,1,-1,-1,-1,-1,1,-1,1,1,1,-1,0,1,0,-1,1,-1,-1,1,1,1,-1,-1,-1,-1,1,-1,1,1,1,-1,1,-1,-1,1,1,1,-1,-1,-1,-1,1,-1,1,1,1,0,1,0,-1,-1,-1,-1,1,-1,1,1,1,-1,-1,1,-1,-1,1,-1,-1,1,0,1,-1,1,0,0,0,-1,-1,-1,1,-1,1,1,1,-1,-1,1,-1,-1,1,-1,-1,1,1,1,-1,-1,-1,-1,1,-1,1,1,1,-1,-1,1,-1,-1,0,1,0,-1,1,-1,-1,1,1,1,-1,-1,-1,-1,1,-1,0,1,-1,-1,0,1,1,-1,1,-1,-1);"
   "for(int i=u;++i<x+u;)"
     "{"
       "vec2 c=vec2(T[i*4],T[i*4+1]),s=vec2(T[i*4+2],T[i*4+3]);"
       "float m=length(s-c);"
       "vec2 p=(s-c)/m;"
       "c=abs(mat2(p.x,-p.y,p.y,p.x)*(f-(c+s)*.5))-vec2(m,.2)*.5;"
       "v=min(v,length(max(c,0.))+min(max(c.x-.2,c.y),0.));"
     "}"
   "f.x-=2.5;"
   "return v;"
 "}"
 "void main()"
 "{"
   "vec2 f=vec2(1280,720),v=gl_FragCoord.xy/f.xy;"
   "float s=float(T>250),x=float(T>280),m=exp(-mod(T,.5+sin(T/2)*2/T)*40.),y=.03+.05*smoothstep(90.,190.,T)-s+4.*x*smoothstep(4.,0.,mod(T,4.));"
   "m=(smoothstep(0,50,T)*pow(c(floor(T)),2)+.9*smoothstep(160,190,T)*m)*(1-s+x);"
   "u=uint(gl_FragCoord.x+gl_FragCoord.y*1111);"
   "c();"
   "if(T>80&&T<100)"
     "m=100*smoothstep(1,0,mod(T,4.));"
   "uint e=w(ivec2(gl_FragCoord.xy));"
   "vec3 p=vec3(i[e])*1e-4;"
   "float z=p.x*460;"
   "vec3[4] t=vec3[](vec3(1),vec3(1,0,1),vec3(1,1,.1),vec3(.75,1.5,1.5));"
   "vec3 d=mix(t[int(z)%4],t[int(z+1)%4],smoothstep(0.,1.,fract(z)));"
   "p/=1.+p;"
   "p=c(floor(T*.8))<.7?"
     "1.-p:"
     "pow(abs(pow(step(p,vec3(.5)),vec3(.02))),vec3(.02));"
   "if(T>60&&T<65)"
     "p=1-p;"
   "if(abs(p.x-.1)<y)"
     "p-=d;"
   "C=pow(abs(p.xyzz),vec4(4.4));"
   "if(T>460)"
     "i[e]=i[e]*400%10000000;"
   "else if(mod(T,9.-x*5.)<1.-float(T>460.))"
     "i[e]=0;"
   "else if(p.x<m)"
     "{"
       "ivec2 f=-ivec2(0,4);"
       "f*=(int(c()<p.x*1111.)*2-1)*(1+5*int(c(floor(T))));"
       "f=f*(int(c(floor(T)*124.)*2.)*2-1)*(1+int(x*smoothstep(3.,0.,mod(T,4.))*20.));"
       "if(T>122&&T<250.)"
         "f=ivec2(f.y,f.x);"
       "if(T>316&&c()>.5)"
         "f-=f;"
       "i[e]=i[w(ivec2(gl_FragCoord.xy)+f)];"
     "}"
   "else"
     " i[e]=0;"
   "if(s>.1)"
     "C=1.-C;"
   "if(T>350.)"
     "C=vec4(dot(C,C)<.5);"
   "v=(gl_FragCoord.xy-f.xy/2.)/f.y*20.;"
   "z=10.;"
   "s=int(T)%3;"
   "if(s==0)"
     "v.x+=3.75,c(v,z,0,4),c(v,z,4,5),c(v,z,9,4),c(v,z,13,3);"
   "if(s==1)"
     "v.x+=20./13.5-.25,c(v,z,16,6),c(v,z,22,5);"
   "if(s==2)"
     "v.x+=3.75,c(v,z,27,6),c(v,z,4,5),c(v,z,0,4),c(v,z,33,4);"
   "if(z<0.&&(T>420&&T<450))"
     "i[e]+=100000;"
 "}";

static const char* render_comp =
 "#version 460\n"
 "layout(local_size_x=256)in;"
 "layout(std430,binding=0) coherent buffer Aa{uint l[];};"
 "layout(location=1) uniform float Tt;"
 "vec2 x=vec2(1300,740);"
 "float z,y=acos(-1.);"
 "uint e;"
 "uint m(uint f)"
 "{"
   "f=(f^f>>16)*2146121005u;"
   "f=(f^f>>15)*2221713035u;"
   "return f^f>>16;"
 "}"
 "float c(float f)"
 "{"
   "return float(m(uint(f)))/float(-1u);"
 "}"
 "float c()"
 "{"
   "uint f=m(e);"
   "e=f;"
   "return float(f)/float(-1u);"
 "}"
 "vec3 h(float f)"
 "{"
   "return vec3(c(f),c(f),c(f));"
 "}\n"
 "#define pmod(p,amt)(mod((p+amt*.5),amt)-amt*.5)\n"
 "mat2 d(float f)"
 "{"
   "return mat2(cos(f),-sin(f),sin(f),cos(f));"
 "}"
 "float d()"
 "{"
   "return float(c()<.5)*2.-1.;"
 "}"
 "void main()"
 "{"
   "uint f=gl_GlobalInvocationID.x;"
   "e=f+1111111u;"
   "z=Tt;"
   "z=mod(z,360);"
   "float s=float(z>250),v=.5+sin(z/2)*2/z;"
   "v=exp(-mod(z,v)*4);"
   "float i=smoothstep(155,180,z)*smoothstep(250,245,z),T=(.4*smoothstep(45,15,z)-.1*i*v*(c(z)-.5)+.4*smoothstep(314,320,z)*v)*(1.-s);"
   "v=200*smoothstep(25,65,z);"
   "bool u=mod(z,8)<2,m=c(floor(z+1555))>.5;"
   "float p=1+.02*smoothstep(90,150,z)-i*.8,a=.2+.4*smoothstep(60,80,z)-.4*smoothstep(90,110,z)-.4*smoothstep(120,160,z)-.2*i;"
   "i=1-smoothstep(90,110,z)+smoothstep(90,150,z);"
   "if(z<10)"
     "u=false;"
   "int t=30+int(v);"
   "v=z;"
   "v+=sin(v)*.8;"
   "vec3 r=vec3(0);"
   "float C=sin(z*9)*4*float(z>280);"
   "vec2 n=vec2(100,0)*s*(1.-smoothstep(314.,320.,z));"
   "vec3 g=vec3(c(),c(),c()),b=h(floor(z)),D=vec3(1,0,0);"
   "if(g.y<.5)"
     "D=vec3(0,-1,0);"
   "D*=p;"
   "b*=i;"
   "for(int i=0;i<t;i++)"
     "{"
       "float s=c();"
       "r+=D*(.002*(1.+20.*b.x)+sin(float(f.x))*.01);"
       "if(g.y<.5)"
         "{"
           "if(i%10==0)"
             "D+=r;"
           "if(i%50==10)"
             "D.yz*=d(y*d()/4);"
           "if(i==20+int(sin(z)*45))"
             "{"
               "D.xy*=d(y*d()/4+z);"
               "if(b.z>.5)"
                 "r.xy*=d(b.x);"
             "}"
           "if(b.x>.7)"
             "r=r/(dot(r,r)-.1+sin(z)*.5+.5)*(1.+sin(z+sin(z)));"
         "}"
       "else if(g.y<1.)"
         "{"
           "if(i==20)"
             "D.xz*=d(.25*y);"
           "if(i%50==50+int(sin(z*.6)*45))"
             "D.yz*=d(y*d()/4),r+=D;"
           "if(i==20+int(sin(z*.3+float(f))*25))"
             "r+=D*(1.+v),D.xy*=d(.5*y*d());"
         "}"
       "r=abs(T)>1e-4?"
         "pmod(r,3+T):"
         "pmod(r,3);"
       "vec3 p;"
       "{"
         "vec3 e=r;"
         "if(u)"
           "{"
             "e=sin(e*5+z);"
             "e.xz*=d(z*2+sin(z*2));"
             "if(m)"
               "e=e/(dot(e,e)-.2)+.4,e/=dot(e,e)-.2,e.xz*=d(z);"
           "}"
         "else"
           " e.xz*=d(floor(c(floor(z+50))*4)/4*y*2);"
         "e.z+=4;"
         "float A=e.z;"
         "if(z<316)"
           "e/=e.z*a;"
         "e.z=A;"
         "e.x/=x.x/x.y;"
         "p=e;"
         "p.xy+=(c()*2.-1.)*abs(p.z-C)*.05*n;"
       "}"
       "uvec2 e=uvec2((p.xy/2.+.5)*x);"
       "uint A=e.x+uint(x.x)*uint(e.y);"
       "atomicAdd(l[A],7);"
       "atomicAdd(l[A*(1+uint(b.x*6.+z)%2)%uint(x.x*x.y)],uint(111));"
     "}"
 "}";

#endif // SHADER_INCLUDES_H_
